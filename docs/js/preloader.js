!function(i){function e(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return i[t].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};e.m=i,e.c=n,e.d=function(i,n,t){e.o(i,n)||Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:t})},e.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(n,"a",n),n},e.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},e.p="",e(e.s=4)}([function(i,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.embedScript=function(i,e){var n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src=i,n.onload=e,document.body.appendChild(n)}},,,,function(i,e,n){"use strict";function t(i){var e=i.item;if("wukong"===e.id){var n=d.getElementsByTagName("footer")[0].appendChild(i.result);setTimeout(function(){var i=l.getResult("wukong",!0),e=URL.createObjectURL(i);g.style.backgroundSize=n.clientWidth+"px",n.className="in",n.addEventListener("transitionend",function(){g.style.backgroundImage="url("+e+")",u=!0},!1)},50)}else"music"===e.id&&(this.player=new o.default)}function s(i){console.log(i.progress),u&&(g.style.width=82*i.progress+"%")}function c(){var i=location.search?"daiquan":"qitian";(l=new createjs.LoadQueue(!0,"http://qiniu.meathill.com/wukong/")).installPlugin(createjs.Sound),l.on("fileload",t),l.on("progress",s),l.on("complete",r),l.loadFile({id:"wukong",src:"./img/wukong.png"}),l.loadFile({id:"music",src:"./audio/"+i+".mp3"}),l.loadManifest(["//cdn.staticfile.org/Director/1.2.8/director.min.js",{id:"homepage",src:"./img/homepage.jpg"},{id:"faxing",src:"./img/faxing.png"},{id:"bufu",src:"./img/bufu.png"},{id:"js",src:"./js/main.js"},{id:"css",src:"./css/screen.css"},{id:"nav",src:"./img/nav.jpg"},{id:"link1",src:"./img/link1.png"},{id:"link2",src:"./img/link2.png"},{id:"link3",src:"./img/link3.png"},{id:"link4",src:"./img/link4.png"},{id:"link5",src:"./img/link5.png"},{id:"link6",src:"./img/link6.png"},{id:"about",src:"./img/about.jpg"},{id:"chupin",src:"./img/chupin.jpg"},{id:"intro",src:"./img/intro.jpg"},{id:"zhuchuang",src:"./img/zhuchuang.jpg"},{id:"price",src:"./img/price.jpg"},{id:"video",src:"./img/video.jpg"},{id:"back-button",src:"./img/back-button.png"},{id:"cloud1",src:"./img/cloud1.png"},{id:"cloud2",src:"./img/cloud2.png"},{id:"cloud3",src:"./img/cloud3.png"},{id:"cloud4",src:"./img/cloud4.png"},{id:"cloud5",src:"./img/cloud5.png"},{id:"poster",src:"./img/poster.jpg"}])}function r(){console.log("homepage"),g.style.width="82%";var i=void 0,e=setInterval(function(){u&&(clearInterval(e),i=new App(l))},1e3)}var o=function(i){return i&&i.__esModule?i:{default:i}}(n(5)),a=n(0),l=void 0,u=!1,d=document.getElementById("loading"),g=d.getElementsByClassName("bar")[0];(0,a.embedScript)("//code.createjs.com/createjs-2015.11.26.min.js",function(){createjs.Sound.initializeDefaultPlugins(),"Promise"in window&&window.Promise instanceof Function?c():(0,a.embedScript)("//cdn.staticfile.org/bluebird/3.5.0/bluebird.min.js",c)})},function(i,e,n){"use strict";function t(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function i(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}(),c=function(){function i(){t(this,i),this.createElement(),this.delegateEvent(),this.isPlaying=!0,this.player=createjs.Sound.play("music")}return s(i,[{key:"createElement",value:function(){var i=this.el=document.createElement("div");i.id="player",i.innerHTML='<i class="fa fa-music fa-spin"></i>',this.icon=i.firstChild,document.body.appendChild(i)}},{key:"delegateEvent",value:function(){var i=this;this.el.addEventListener("click",function(){i.playPause()},!1),this.el.addEventListener("video",function(){i.playPause(!1)})}},{key:"playPause",value:function(i){this.isPlaying=void 0===i?!this.isPlaying:i,this.isPlaying?this.player.play():this.player.stop(),this.el.className=this.isPlaying?"":"disabled",this.isPlaying?this.icon.classList.add("fa-spin"):this.icon.classList.remove("fa-spin")}}]),i}();e.default=c}]);